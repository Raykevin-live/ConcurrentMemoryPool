# 高并发内存池项目
声明： 本项目实现一个高并发内存池，项目源自google的开源项⽬tcmalloc，即线程缓存的malloc，实现了⾼效的多线程内存管理，⽤于替代系统的内
存分配相关的函数（malloc、free）。
欢迎各位一起学习
## 系统支持
本项目仅实现了Win32下的内存池
## 项目逻辑
本项目主架构为三层cache，能更好的支持多核多线程下的锁竞争问题，同时缓解内存碎片的问题。
主要有由三部分组成：
- 第一层thread cache， 每个线程有自己独有的线程空间，小于256kB的内存直接分配；
- 第二层central cache，中心缓存在thread cache 内存不够时向本层申请内存，在thread cache内存使用结束时，回收部分内存，避免多个线程竞争时多次向本层申请；
- 第三层page cache， 页缓存从堆上申请整页的空间，在central cache中内存不够时，切分适当大小内存，然后将剩余内存给本层管理。当上层多个对象都回收时，本层合并相邻的页组成更大的页并回收，一定程度上缓解了内存碎片问题。
- 申请内存大于256KB时，如果申请页数在page cache容量之内，可以直接向page cache申请，否则直接向堆申请。

